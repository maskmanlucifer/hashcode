<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="/css/index.css">
    <title>hashcode</title>
</head>
<body> 
    <nav class="navbar">
        <ul class="navbar-nav">
            <li>
                <a href="#">
                    <i class="material-icons">tag</i>
                </a>
                <span class="tooltip">HASHCODE</span>
            </li>
            <li>
                <a href="/">
                    <i class="material-icons">home</i>
                </a>
                <span class="tooltip">HOMEPAGE</span>
            </li>
            <li>
                <a href="/fizz">
                    <i class="material-icons">code</i>
                </a>
                <span class="tooltip">FIZZBUZZ</span>
            </li>
            <li>
                <a href="/contest">
                    <i class="material-icons">emoji_objects</i>
                </a>
                <span class="tooltip">CONTESTS</span>
            </li>
            <li>
                <a href="/visualizer">
                    <i class="material-icons">assessment</i>
                </a>
                <span class="tooltip">VISUALIZER</span>
            </li>
            <%if(user){%>
            <li>
                <a href="/profile">
                    <i class="material-icons">account_circle</i>
                </a>
                <span class="tooltip">PROFILE</span>
            </li>
            <li>
                <a href="/logout">
                    <i class="material-icons">logout</i>
                </a>
                <span class="tooltip">LOGOUT</span>
            </li>
            <%} else {%>
            <li>
                <a href="/google">
                    <i class="material-icons">login</i>
                </a>
                <span class="tooltip">LOGIN</span>
            </li>
            <%}%>
            
            <li>
                <a href="https://github.com/maskmanlucifer/hashcode">
                    <i class="material-icons">view_in_ar</i>
                </a>
                <span class="tooltip">SOURCE CODE</span>
            </li>
        </ul>
    </nav>
    <main class="main">
        <div class="filter_bar_contest">
            <span>LOCKOUT</span>
        </div>
        <div class="create_button"><a href="/contest/lockout/create"><i class="material-icons">add</i><span>CREATE</span></a></div>
        <div class="card_list_mashup">
            <span>ONGOING</span>
            <%for(let i=0;i<data3.length;i++) {%>
                <% let flag =0 ;%>
                <% if(user && user.ishandle && data3[i].creator.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if(user && user.ishandle && data3[i].opponent.email != "undefined" && data3[i].opponent.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if (data3[i].visibility == "PUBLIC") {%>
                    <div class="contest_box">
                        <span>Lockout # <%=data3[i].contestID%></span>
                        <div class="info_contest">
                            <%let myDate = new Date(data3[i].starttimeSecond *1000) %>
                            <p><strong>Start time :</strong>  <%=myDate.toLocaleString()%></p>
                            <% let duration =Math.floor(data3[i].durationtimeSecond/60.0)%>
                            <% let hours = Math.floor(duration/60.0) %>
                            <% let minutes = duration - (hours*60) %>
                            <p> <strong>Duration :</strong>   <%=hours%> hr : <%=minutes%> min</p>
                        </div> 
                        <div class="info_contest">
                            <p><strong>Problem range :</strong>  <%=data3[i].minRange%> - <%=data3[i].maxRange%></p>
                            <p><strong>Problem count :</strong>  <%=data3[i].numberofProblems%></p>
                        </div>
                        <div class="info_contest">
                            <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data3[i].creator.handle%>"><%=data3[i].creator.handle%></a> </p>
                            <%if(data3[i].opponent.email != "undefined"){%>
                            <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data3[i].opponent.handle%>"><%=data3[i].opponent.handle%></a> </p>
                            <% } %>
                        </div>
                        <a href="/contest/lockout/<%=data3[i].contestID%>">ENTER</a>
                    </div>
                <%} else {%>
                    <% if(flag ==1 ){%>
                        <div class="contest_box">
                            <span>Lockout # <%=data3[i].contestID%></span>
                            <div class="info_contest">
                                <%let myDate = new Date(data3[i].starttimeSecond *1000) %>
                                <p><strong>Start time :</strong>  <%=myDate.toLocaleString()%></p>
                                <% let duration =Math.floor(data3[i].durationtimeSecond/60.0)%>
                                <% let hours = Math.floor(duration/60.0) %>
                                <% let minutes = duration - (hours*60) %>
                                <p> <strong>Duration :</strong>   <%=hours%> hr : <%=minutes%> min</p>
                            </div> 
                            <div class="info_contest">
                                <p><strong>Problem range :</strong>  <%=data3[i].minRange%> - <%=data3[i].maxRange%></p>
                                <p><strong>Problem count :</strong>  <%=data3[i].numberofProblems%></p>
                            </div>
                            <div class="info_contest">
                                <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data3[i].creator.handle%>"><%=data3[i].creator.handle%></a> </p>
                                <%if(data3[i].opponent.email != "undefined"){%>
                                <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data3[i].opponent.handle%>"><%=data3[i].opponent.handle%></a> </p>
                                <% } %>
                            </div>
                            <a href="/contest/lockout/<%=data3[i].contestID%>">ENTER</a>
                        </div>
                    <%}%>
                <%}%>
            <%}%>
        </div>
        <div class="card_list_mashup">
            <span>UPCOMING</span>
            <%for(let i=0;i<data1.length;i++) {%>
                <% let flag =0 ;%>
                <% if(user && user.ishandle && data1[i].creator.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if(user && user.ishandle && data1[i].opponent.email != "undefined" && data1[i].opponent.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if(data1[i].visibility == "PUBLIC") {%>
                    <div class="contest_box">
                        <span>Lockout # <%=data1[i].contestID%></span>
                        <div class="info_contest">
                            <%let myDate = new Date(data1[i].starttimeSecond *1000) %>
                            <p><strong>Start time :</strong>  <%=myDate.toLocaleString()%></p>
                            <% let duration =Math.floor(data1[i].durationtimeSecond/60.0)%>
                            <% let hours = Math.floor(duration/60.0) %>
                            <% let minutes = duration - (hours*60) %>
                            <p> <strong>Duration :</strong>   <%=hours%> hr : <%=minutes%> min</p>
                        </div> 
                        <div class="info_contest">
                            <p><strong>Problem range :</strong>  <%=data1[i].minRange%> - <%=data1[i].maxRange%></p>
                            <p><strong>Problem count :</strong>  <%=data1[i].numberofProblems%></p>
                        </div>
                        <div class="info_contest">
                            <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data1[i].creator.handle%>"><%=data1[i].creator.handle%></a> </p>
                            <%if(data1[i].opponent.email != "undefined"){%>
                            <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data1[i].opponent.handle%>"><%=data1[i].opponent.handle%></a> </p>
                            <% } %>   
                        </div>
                        <%if(data1[i].opponent.email == "undefined"){%>
                        <a href="/contest/lockout/<%=data1[i].contestID%>/register">REGISTER</a>
                        <%}%>
                    </div>
                <% } else {%>
                    <% if(flag == 1) {%>
                        <div class="contest_box">
                            <span>Lockout # <%=data1[i].contestID%></span>
                            <div class="info_contest">
                                <%let myDate = new Date(data1[i].starttimeSecond *1000) %>
                                <p><strong>Start time :</strong>  <%=myDate.toLocaleString()%></p>
                                <% let duration =Math.floor(data1[i].durationtimeSecond/60.0)%>
                                <% let hours = Math.floor(duration/60.0) %>
                                <% let minutes = duration - (hours*60) %>
                                <p> <strong>Duration :</strong>   <%=hours%> hr : <%=minutes%> min</p>
                            </div> 
                            <div class="info_contest">
                                <p><strong>Problem range :</strong>  <%=data1[i].minRange%> - <%=data1[i].maxRange%></p>
                                <p><strong>Problem count :</strong>  <%=data1[i].numberofProblems%></p>
                            </div>
                            <div class="info_contest">
                                <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data1[i].creator.handle%>"><%=data1[i].creator.handle%></a> </p>    
                                <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data1[i].opponent.handle%>"><%=data1[i].opponent.handle%></a> </p>  
                            </div>
                        </div>
                    <%}%>
                <%}%>
            <%}%>
        </div>
        <div class="card_list_mashup">
            <span>PAST</span>
            <%for(let i=0;i<data2.length;i++) {%>
                <% let flag =0 ;%>
                <% if(user && user.ishandle && data2[i].creator.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if(user && user.ishandle && data2[i].opponent.email != "undefined" && data2[i].opponent.handle == user.handle) {%>
                    <%flag =1 %>
                <%}%>
                <% if(data2[i].visibility == "PUBLIC") {%>
                    <div class="contest_box">
                        <span>Lockout # <%=data2[i].contestID%></span>
                        <div class="info_contest">
                            <p><strong>Problem range :</strong>  <%=data2[i].minRange%> - <%=data2[i].maxRange%></p>
                            <p><strong>Problem count :</strong>  <%=data2[i].numberofProblems%></p>
                        </div>
                        <div class="info_contest">
                            <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data2[i].creator.handle%>"><%=data2[i].creator.handle%></a> </p>
                            <%if(data2[i].opponent.email != "undefined"){%>
                            <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data2[i].opponent.handle%>"><%=data2[i].opponent.handle%></a> </p>
                            <% } %>
                        </div>
                        <a href="/contest/lockout/<%=data2[i].contestID%>">VIEW CONTEST</a>
                    </div>
                <%} else {%>
                    <div class="contest_box">
                        <span>Lockout # <%=data2[i].contestID%></span>
                        <div class="info_contest">
                            <p><strong>Problem range :</strong>  <%=data2[i].minRange%> - <%=data2[i].maxRange%></p>
                            <p><strong>Problem count :</strong>  <%=data2[i].numberofProblems%></p>
                        </div>
                        <div class="info_contest">
                            <p><strong>Participant-1 :</strong> <a href="https://codeforces.com/profile/<%=data2[i].creator.handle%>"><%=data2[i].creator.handle%></a> </p>
                            <%if(data2[i].opponent.email != "undefined"){%>
                            <p><strong>Participant-2 :</strong> <a href="https://codeforces.com/profile/<%=data2[i].opponent.handle%>"><%=data2[i].opponent.handle%></a> </p>
                            <% } %>
                        </div>
                        <a href="/contest/lockout/<%=data2[i].contestID%>">VIEW CONTEST</a>
                    </div>
                <%}%>
            <%}%>
        </div>
    </main>
    <script src="/js/home.js"></script>
</body>
</html> 